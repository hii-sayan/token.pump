(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3299:(e,t,n)=>{Promise.resolve().then(n.bind(n,9218))},9218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var a=n(5155),s=n(2115),i=n(8808),l=n(8982),r=n(8720);let u=function(e){let{account:t,setAccount:n}=e;async function s(){let e=await window.ethereum.request({method:"eth_requestAccounts"});n(r.b(e[0]))}return(0,a.jsxs)("header",{children:[(0,a.jsx)("p",{className:"brand",children:"fun.pump"}),t?(0,a.jsxs)("button",{onClick:s,className:"btn--fancy",children:["[ ",t.slice(0,6)+"..."+t.slice(38,42)," ]"]}):(0,a.jsx)("button",{onClick:s,className:"btn--fancy",children:"[ connect ]"})]})};var p=n(2316);let o=function(e){let{toggleCreate:t,fee:n,provider:s,factory:i}=e;async function l(e){let a=e.get("name"),l=e.get("ticker"),r=await s.getSigner(),u=await i.connect(r).create(a,l,{value:n});await u.wait(),t()}return(0,a.jsxs)("div",{className:"list",children:[(0,a.jsx)("h2",{children:"list new token"}),(0,a.jsx)("div",{className:"list__description",children:(0,a.jsxs)("p",{children:["fee: ",p.Js(n,18)," ETH"]})}),(0,a.jsxs)("form",{action:l,children:[(0,a.jsx)("input",{type:"text",name:"name",placeholder:"name"}),(0,a.jsx)("input",{type:"text",name:"ticker",placeholder:"ticker"}),(0,a.jsx)("input",{type:"submit",value:"[ list ]"})]}),(0,a.jsx)("button",{onClick:t,className:"btn--fancy",children:"[ cancel ]"})]})},c=function(e){let{toggleTrade:t,token:n}=e;return(0,a.jsx)("button",{onClick:()=>t(n),className:"token",children:(0,a.jsxs)("div",{className:"token__details",children:[(0,a.jsx)("img",{src:n.image,alt:"token image",width:256,height:256}),(0,a.jsxs)("p",{children:["created by ",n.creator.slice(0,6)+"..."+n.creator.slice(38,42)]}),(0,a.jsxs)("p",{children:["market Cap: ",p.Js(n.raised,18)," eth"]}),(0,a.jsx)("p",{className:"name",children:n.name})]})})},d=function(e){let{toggleTrade:t,token:n,provider:i,factory:l}=e,[r,u]=(0,s.useState)(0),[o,c]=(0,s.useState)(0),[d,y]=(0,s.useState)(0);async function m(e){let a=e.get("amount"),s=await l.getCost(n.sold)*BigInt(a),r=await i.getSigner(),u=await l.connect(r).buy(n.token,p.XS(a,18),{value:s});await u.wait(),t()}async function h(){u(await l.TARGET()),c(await l.TOKEN_LIMIT()),y(await l.getCost(n.sold))}return(0,s.useEffect)(()=>{h()},[]),(0,a.jsxs)("div",{className:"trade",children:[(0,a.jsx)("h2",{children:"trade"}),(0,a.jsxs)("div",{className:"token__details",children:[(0,a.jsx)("p",{className:"name",children:n.name}),(0,a.jsxs)("p",{children:["creator: ",n.creator.slice(0,6)+"..."+n.creator.slice(38,42)]}),(0,a.jsx)("img",{src:n.image,alt:"Pepe",width:256,height:256}),(0,a.jsxs)("p",{children:["marketcap: ",p.Js(n.raised,18)," ETH"]}),(0,a.jsxs)("p",{children:["base cost: ",p.Js(d,18)," ETH"]})]}),n.sold>=o||n.raised>=r?(0,a.jsx)("p",{className:"disclaimer",children:"target reached!"}):(0,a.jsxs)("form",{action:m,children:[(0,a.jsx)("input",{type:"number",name:"amount",min:1,max:1e4,placeholder:"1"}),(0,a.jsx)("input",{type:"submit",value:"[ buy ]"})]}),(0,a.jsx)("button",{onClick:t,className:"btn--fancy",children:"[ cancel ]"})]})},y=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Buy","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"}],"name":"Created","type":"event"},{"inputs":[],"name":"TARGET","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TOKEN_LIMIT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"buy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_symbol","type":"string"}],"name":"create","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_sold","type":"uint256"}],"name":"getCost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getTokenSale","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"raised","type":"uint256"},{"internalType":"bool","name":"isOpen","type":"bool"}],"internalType":"struct Factory.TokenSale","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenToSale","outputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"raised","type":"uint256"},{"internalType":"bool","name":"isOpen","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokens","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),m=JSON.parse('{"31337":{"factory":{"address":"0x5FbDB2315678afecb367f032d93F642f64180aa3"}}}'),h=JSON.parse('["https://pump.mypinata.cloud/ipfs/QmZ4ea3wmwzwYwyWnhzs35hyxw4YryWB82TknGY3L5Wbxn","https://pump.mypinata.cloud/ipfs/QmfFEKp9zFzTmcDjHLXi5H6E5dnKn8NjeaT5ZN2yenFfUR","https://pump.mypinata.cloud/ipfs/QmdwMz7LDs42JoUxz1E9fyWjRwi9dLE1R8HEGDc4EdTvty","https://pump.mypinata.cloud/ipfs/QmQEhM1g9THLbi8WFdTSgVhUtXuBua26moQx29qUVFAomh","https://pump.mypinata.cloud/ipfs/QmP3QrGTLWU3ovUSh3hhEZAkkmz4wQUytGFB8T6FYCNbmB","https://pump.mypinata.cloud/ipfs/QmPPhPbe9t5AKkBgBP4uon7aBdwLzukdS5PJoujC4YjJBj"]');function f(){let[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)(null),[p,f]=(0,s.useState)(null),[T,x]=(0,s.useState)(0),[b,w]=(0,s.useState)([]),[j,k]=(0,s.useState)(null),[g,N]=(0,s.useState)(!1),[v,S]=(0,s.useState)(!1);function _(){g?N(!1):N(!0)}function E(e){k(e),v?S(!1):S(!0)}async function M(){let e=new i.k(window.ethereum);t(e);let n=await e.getNetwork();console.log("Current network chainId:",n.chainId);let a=new l.NZ(m[n.chainId].factory.address,y,e);f(a),x(await a.fee());let s=await a.totalTokens(),r=[];for(let e=0;e<s&&6!=e;e++){let t=await a.getTokenSale(e),n={token:t.token,name:t.name,creator:t.creator,sold:t.sold,raised:t.raised,isOpen:t.isOpen,image:h[e]};r.push(n)}w(r.reverse())}return(0,s.useEffect)(()=>{M()},[g,v]),(0,a.jsxs)("div",{className:"page",children:[(0,a.jsx)(u,{account:n,setAccount:r}),(0,a.jsxs)("main",{children:[(0,a.jsx)("div",{className:"create",children:(0,a.jsx)("button",{onClick:p&&n&&_,className:"btn--fancy",children:p?n?"[ start a new token ]":"[ please connect ]":"[ contract not deployed ]"})}),(0,a.jsxs)("div",{className:"listings",children:[(0,a.jsx)("h1",{children:"new listings"}),(0,a.jsx)("div",{className:"tokens",children:n?0===b.length?(0,a.jsx)("p",{children:"No tokens listed"}):b.map((e,t)=>(0,a.jsx)(c,{toggleTrade:E,token:e},t)):(0,a.jsx)("p",{children:"please connect wallet"})})]}),g&&(0,a.jsx)(o,{toggleCreate:_,fee:T,provider:e,factory:p}),v&&(0,a.jsx)(d,{toggleTrade:E,token:j,provider:e,factory:p})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[733,441,517,358],()=>t(3299)),_N_E=e.O()}]);